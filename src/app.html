<template>
  <div class="background" css.bind="getBackground"></div>
  <require from="./style.css"></require>
  <require from="./movie"></require>
  <require from="./pageControl"></require>
  <input placeholder="search for movies..." value.bind="query & debounce : 250">
  <page-control
    current-page.two-way="currentPage"
    num-pages.bind="numPages"
    total-results.bind="totalResults"
    disabled.bind="requestPending">
  </page-control>
  <div class="movieList">
    <movie class.bind="(selectedMovie==$index)? 'selectedMovie' : ''" 
          selected.bind="selectedMovie==$index" 
          movie-data.bind="movie" 
          click.trigger="selectMovie($index)" 
          repeat.for="movie of movies">
    </movie>
  </div>
  <div if.bind="!requestPending && totalResults == 0 && query != ''">No results found</div>
  <page-control
    current-page.two-way="currentPage" 
    num-pages.bind="numPages"
    total-results.bind="totalResults"
    disabled.bind="requestPending">
  </page-control>
</template>
